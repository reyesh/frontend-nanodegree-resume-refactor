function mapsResume(a){function b(){function b(){var b=[];return console.log(a.bio.travel),b.push(a.bio.travel),b}function d(){var b={};b.bio=[],b.schools=[],b.jobs=[],b.bio[0]={location:a.bio.contacts.location.data,name:"Currently Live Here"};for(var c=0;c<a.bio.travel.length;c++)b.bio[c+1]={name:a.bio.travel[c],location:a.bio.travel[c]};for(c=0;c<a.edu.length;c++)b.schools[c]={name:a.edu[c].name,location:a.edu[c].location};for(c=0;c<a.work.length;c++)b.jobs[c]={name:a.work[c].employer,location:a.work[c].location};return console.log(b),b}function e(a){var b=a.geometry.location.lat(),d=a.geometry.location.lng(),e=a.formatted_address,g=window.mapBounds,h=new google.maps.Marker({map:c,position:a.geometry.location,title:e}),i=f(b,d),j=new google.maps.InfoWindow({content:"<h3>"+i+"</h3></br>"+e});google.maps.event.addListener(h,"click",function(){j.open(c,h)}),g.extend(new google.maps.LatLng(b,d)),c.fitBounds(g),c.setCenter(g.getCenter())}function f(a,b){for(var c in j)for(var d in j[c])if(j[c][d].lat==a&&j[c][d].lng==b)return j[c][d].name}function g(a,b){if(b==google.maps.places.PlacesServiceStatus.OK){for(var c in j)for(var d in j[c])console.log(j[c][d].location.replace(/\+/g," ")+" "+a[0].formatted_address),j[c][d].location.replace(/\+/g," ")==a[0].formatted_address&&(j[c][d].lat=a[0].geometry.location.lat(),j[c][d].lng=a[0].geometry.location.lng());console.log(j),e(a[0])}}function h(a){var b=new google.maps.places.PlacesService(c);for(var d in a)for(var e in a[d]){var f={query:a[d][e].location};b.textSearch(f,g)}}var i,j,k={disableDefaultUI:!0};c=new google.maps.Map(document.querySelector("#map"),k),console.log("selected #map!"),c.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0}),window.mapBounds=new google.maps.LatLngBounds,i=b(),j=d(),h(j)}console.log("in mapsResume function");var c;b(),window.addEventListener("resize",function(a){c.fitBounds(mapBounds)})}var HTMLskillsStart='<ul class="list-inline">%data%</ul>',HTMLskills='<li><span class="btn btn-info btn-xs">%data%</span></li>',HTMLworkStart='<div class="work-entry"></div>',HTMLworkEmployer='<a href="%data2%">%data%</a>',HTMLworkTitle="<p>%data%</p>",HTMLworkDates='<div class="date-text pull-right">%data%</div>',HTMLworkLocation='<div class="location-text pull-left">%data%</div><br>',HTMLworkDescription='<p class="pspace">%data%</p>',HTMLworkBpul="<ul>%data%</ul>",HTMLworkBpli="<li>%data%</li>",HTMLprojectStart='<div id="%data%" class="col-sm-6 col-md-4 project-entry"></div>',HTMLprojectTitle='<a href="%data2%">%data%</a>',HTMLprojectDate="<p>%data%</p>",HTMLprojectDescription="<p>%data%</p>",HTMLprojectImage='<img data-toggle="modal" data-target="%data2%" src="%data%" alt="%data3%">',HTMLschoolStart='<div class="education-entry"></div>',HTMLschoolName='<a href="%data2%" style="display: block;">%data%',HTMLschoolDegree=" - %data%</a>",HTMLschoolDates='<p class="pull-right">%data%</p>',HTMLschoolLocation='<p class="">%data%</p>',HTMLschoolMaj="<p>Major: %data%</p>",HTMLschoolMin="<p>Minor: %data%</p>",HTMLschoolhighlight="<p>Hightlights: <ul>%data%</ul></p>",HTMLschoolhighlightBp="<li>%data%</li>",HTMLactivitiesStart='<div class="activities-entry"></div>',HTMLactivitiesTitle='<p class="pull-left"><a href ="%data3%">%data%</a> - <i>%data2%</i></p>',HTMLactivitiesDates='<p class="pull-right">%data%</p>',HTMLJtron='<div class="jumbotron" role="img" aria-label="a crowd cheering for Reyes"><div class="container"><div class="btn-group"></div></div></div>',HTMLJtronImg='<img class="profile-img" src="data:image/png;base64,%data%">',HTMLJtronH1='<h1 id="msg">%data%</h1>',HTMLJtronP="<p>%data%</p>",HTMLJtronBtn='<a class="btn btn-info btn-lg" href="%data2%" target="_blank" role="button"><i class="fa %data%"></i></a>',HTMLloadingModal='<div class="modal fade bs-example-modal-sm" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog modal-sm" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title" id="myModalLabel">Wait while I write my resume</h4></div><div class="modal-body text-center"><div class="spinner-loader">Loadingâ€¦</div></div></div></div></div>',Engine=function(a){var b,c,d,e,f,g,h=!1,i="https://blistering-torch-1167.firebaseio.com",j="r1",k={getSectionData:function(a){return g[a]},getSections:function(){var a=[];for(var b in g)a.push(b);return a},getResumeData:function(){f=new Firebase(i),f.child(j).on("value",function(a){g=a.val(),l.renderStart()})}},l={init:function(){$("#main").append(HTMLloadingModal),$("#myModal").modal("show"),k.getResumeData()},renderStart:function(){l.renderJtron(),l.sectionOrder(),l.renderSections(),$("#myModal").modal("hide"),l.renderMap(),l.startJtronMsg()},renderSections:function(){b&&l.renderSkill(),c&&l.renderWork(),e&&l.renderEdu(),d&&l.renderProj(),h&&l.renderConf()},secTemplate:function(a,b,c,d){var e=document.createElement("div");e.id=b,e.className="row well";var f=document.createElement("i");f.className="fa "+c+" section-icons",e.appendChild(f);var g=document.createElement("h"+d);if(g.className="section-header",g.innerHTML=a,"skill"==b){console.log("this is a skill");var h=document.createElement("span");h.id="count",h.className="badge",g.appendChild(h)}return e.appendChild(g),e},sectionOrder:function(){var a=k.getSections();for(var f in a)switch(a[f]){case"skill":b=!0,$("#main").append(l.secTemplate("Skills ","skill","fa-wrench",3));break;case"project":d=!0,$("#main").append(l.secTemplate("Projects","proj","fa-file-code-o",2));break;case"work":c=!0,$("#main").append(l.secTemplate("Work Experience","work","fa-briefcase",2));break;case"edu":e=!0,$("#main").append(l.secTemplate("Education","edu","fa-book",2));break;case"conf":h=!0,$("#main").append(l.secTemplate("Activities","conf","fa-users",2))}},renderSkill:function(){var a=k.getSectionData("skill"),b="";for(var c in a)b+=HTMLskills.replace("%data%",a[c]);formattedSkillStart=HTMLskillsStart.replace("%data%",b),$("#count").append(a.length),$("#skill").append(formattedSkillStart)},renderWork:function(){var a=k.getSectionData("work");for(var b in a){var c="";$("#work").append(HTMLworkStart),formattedEmployer=HTMLworkEmployer.replace("%data%",a[b].employer),formattedEmployer=formattedEmployer.replace("%data2%",a[b].employer_url),formattedTitle=HTMLworkTitle.replace("%data%",a[b].title),formattedDate=HTMLworkDates.replace("%data%",a[b].date),formattedLocation=HTMLworkLocation.replace("%data%",a[b].location),formattedDes=HTMLworkDescription.replace("%data%",a[b].description);for(var d in a[b].bp)c+=HTMLworkBpli.replace("%data%",a[b].bp[d]);formattedWorkBP=HTMLworkBpul.replace("%data%",c),formatedWorkEntry=formattedEmployer+formattedTitle+formattedDate+formattedLocation+formattedDes+formattedWorkBP,$(".work-entry:last").append(formatedWorkEntry)}},renderEdu:function(){var a=k.getSectionData("edu"),b="",c="";for(var d in a){$("#edu").append(HTMLschoolStart),formattedEduName=HTMLschoolName.replace("%data%",a[d].name),formattedEduName=formattedEduName.replace("%data2%",a[d].url),formattedEduDegree=HTMLschoolDegree.replace("%data%",a[d].degree),formattedEduDate=HTMLschoolDates.replace("%data%",a[d].date),formattedEduLoc=HTMLschoolLocation.replace("%data%",a[d].location),formattedEduMaj=HTMLschoolMaj.replace("%data%",a[d].major),formattedEduMin=HTMLschoolMin.replace("%data%",a[d].minor),c="";for(var e in a[d].bp)console.log(d+" "+a[d].bp[e]),c+=HTMLschoolhighlightBp.replace("%data%",a[d].bp[e]);formattedHlUL=HTMLschoolhighlight.replace("%data%",c),b=formattedEduName+formattedEduDegree+formattedEduLoc+formattedEduDate+formattedEduMaj+formattedEduMin+formattedHlUL,$(".education-entry:last").append(b)}},renderProj:function(){var a=k.getSectionData("project"),b="";for(var c in a)b=HTMLprojectStart.replace("%data%",a[c].id),$("#proj").append(b),formattedProjectTitle=HTMLprojectTitle.replace("%data%",a[c].title),formattedProjectTitle=formattedProjectTitle.replace("%data2%",a[c].url),formattedProjectDate=HTMLprojectDate.replace("%data%",a[c].date),formattedProjectDes=HTMLprojectDescription.replace("%data%",a[c].description),formattedProjImg=HTMLprojectImage.replace("%data%",a[c].image),formattedProjEntry=formattedProjectTitle+formattedProjectDate+formattedProjImg+formattedProjectDes,$(".project-entry:last").append(formattedProjEntry)},renderConf:function(){var a=k.getSectionData("conf");for(var b in a)$("#conf").append(HTMLactivitiesStart),formattedActTitle=HTMLactivitiesTitle.replace("%data%",a[b].title),formattedActTitle=formattedActTitle.replace("%data2%",a[b].level),formattedActTitle=formattedActTitle.replace("%data3%",a[b].url),formattedActDate=HTMLactivitiesDates.replace("%data%",a[b].date),formattedActEntry=formattedActTitle+formattedActDate,$(".activities-entry:last").append(formattedActEntry)},renderMap:function(){$("#main").append(l.secTemplate("Where I've Lived, Worked, Studied & Traveled","mapDiv","fa-map-marker",2)),$("#mapDiv").append('<div id="map"></div>'),google.maps.event.addDomListener(window,"load",mapsResume(g))},renderJtron:function(){var a=k.getSectionData("bio");formattedJtronP=HTMLJtronP.replace("%data%",g.bio.subMsg[0]),$(".jumbotron").children(".container").prepend(formattedJtronP),formattedJtronH1=HTMLJtronH1.replace("%data%",g.bio.msg[0]),$(".jumbotron").children(".container").prepend(formattedJtronH1),formattedJtron=HTMLJtronImg.replace("%data%",g.bio.pic),$(".jumbotron").children(".container").prepend(formattedJtron);for(var b in a.contacts)formattedJtronBtn=HTMLJtronBtn.replace("%data%",a.contacts[b].icon),formattedJtronBtn=formattedJtronBtn.replace("%data2%",a.contacts[b].data),$(".jumbotron").children(".container").children(".btn-group").append(formattedJtronBtn)},startJtronMsg:function(){var a=k.getSectionData("bio");setInterval(function(){var b,c=Math.floor(Math.random()*a.msg.length);console.log("go go go: "+c),b=$("#msg"),b.text(a.msg[c])},5e3)}};l.init()}(this);